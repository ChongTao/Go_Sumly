# init函数什么时候执行

在Go语言中，`init`函数是一种特殊的函数，用于在程序开始执行时初始化包或执行一些启动任务。每个包可以有多个`init`函数，它们不需要任何参数，也没有返回值。

`init`函数的执行时机如下：

1. **编译时确定**：`init`函数的执行顺序在编译时就已经确定，而不是在运行时。编译器会收集包中所有的`init`函数，并按照包依赖关系的顺序进行排序和执行。
2. **包级别初始化**：当程序开始执行时，会先执行所有导入包的`init`函数。这些`init`函数按照包导入的依赖顺序执行，也就是说，如果一个包导入了另一个包，那么被导入包的`init`函数会在导入包的`init`函数之前执行。
3. **多个`init`函数**：如果一个包内有多个`init`函数，它们会按照声明的顺序执行。但是，由于编译器会处理包级别的初始化，所以实际的执行顺序可能会因为编译器优化等因素而有所变化。
4. **main包之前**：在所有导入包的`init`函数执行完毕后，才会执行`main`包中的`init`函数。最后，执行`main`函数，程序的执行正式开始。

需要注意的是，`init`函数是自动执行的，不能显式调用。它们的存在是为了在程序执行前进行一些必要的初始化工作，比如设置全局变量、注册函数等。

# 异常触发的场景有哪些

在 Go 里，「异常」主要是指由 `panic` 引发的运行时错误（runtime error），它会中断当前函数执行，向上层传播，直到被 `recover()` 捕获或程序退出。触发panic的场景主要包括以下几种：

1. **运行时错误**：当程序在运行时遇到无法处理的错误时，可能会触发panic。例如，访问数组的越界索引、解引用空指针等，这些情况会导致运行时错误并触发panic。
2. **显式调用panic**：程序员可以在代码中显式调用panic函数来触发异常。这通常用于处理一些无法恢复的错误情况，或者用于通知调用者某些严重的问题。
3. **第三方库或框架**：某些第三方库或框架在内部遇到无法处理的错误时，可能会触发panic。这取决于库或框架的设计和实现方式。
